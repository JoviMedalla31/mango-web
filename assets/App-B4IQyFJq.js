import{r as c,j as o,L as H,u as be}from"./index-BLfJSfN6.js";import{i as Ae,f as ue,a as $,J as Ee,V as Me,c as Ne,M as le,u as O,b as De,d as Re,r as Ve,m as Ie,e as Oe,g as Le,h as Te,j as Ce,k as Fe,s as We,p as Ge,l as He,n as Pe,S as ke,H as ze,v as z,o as $e,q as Be,t as Ke,w as fe,x as B,y as Ye}from"./use-transform-tRWpNdqx.js";const Xe=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e};function me(e,t){return Ae(e)?e[Xe(0,e.length,t)]:e}class _e{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>s.attachTimeline(t));return()=>{n.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return ee(this.animations,"duration")}get iterationDuration(){return ee(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ee(e,t){let n=0;for(let s=0;s<e.length;s++){const r=e[s][t];r!==null&&r>n&&(n=r)}return n}class Je extends _e{then(t,n){return this.finished.finally(t).then(()=>{})}}function Ue(e,t,n){const s=e.get();let r=null,l=s,a;const m=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,u=()=>{r&&(r.stop(),r=null)},d=()=>{u(),r=new Ee({keyframes:[ne(e.get()),ne(l)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:a})};if(e.attach((i,f)=>{l=i,a=p=>f(te(p,m)),ue.postRender(()=>{d(),e.events.animationStart?.notify(),r?.then(()=>{e.events.animationComplete?.notify()})})},u),$(t)){const i=t.on("change",p=>e.set(te(p,m))),f=e.on("destroy",i);return()=>{i(),f()}}return u}function te(e,t){return t?e+t:e}function ne(e){return typeof e=="number"?e:parseFloat(e)}function qe(e,t){return e in t}class Qe extends Me{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(qe(n,t)){const s=t[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Ne()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function Ze(e,t,n){c.useInsertionEffect(()=>e.on(t,n),[e,t,n])}function et(e,t={}){const{isStatic:n}=c.useContext(le),s=()=>$(e)?e.get():e;if(n)return O(s);const r=De(s());return c.useInsertionEffect(()=>Ue(r,e,t),[r,JSON.stringify(t)]),r}function tt(e){const t=c.useRef(0),{isStatic:n}=c.useContext(le);c.useEffect(()=>{if(n)return;const s=({timestamp:r,delta:l})=>{t.current||(t.current=r),e(r-t.current,l)};return ue.update(s,!0),()=>Re(s)},[e])}function X(e){return typeof e=="object"&&!Array.isArray(e)}function de(e,t,n,s){return typeof e=="string"&&X(t)?Ve(e,n,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function nt(e,t,n){return e*(t+1)}function se(e,t,n,s){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):s.get(t)??e}function st(e,t,n){for(let s=0;s<e.length;s++){const r=e[s];r.at>t&&r.at<n&&(Oe(e,r),s--)}}function rt(e,t,n,s,r,l){st(e,r,l);for(let a=0;a<t.length;a++)e.push({value:t[a],at:Ie(r,l,s[a]),easing:me(n,a)})}function ot(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function at(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const it="easeInOut";function ct(e,{defaultTransition:t={},...n}={},s,r){const l=t.duration||.3,a=new Map,m=new Map,u={},d=new Map;let i=0,f=0,p=0;for(let h=0;h<e.length;h++){const v=e[h];if(typeof v=="string"){d.set(v,f);continue}else if(!Array.isArray(v)){d.set(v.name,se(f,v.at,i,d));continue}let[w,S,x={}]=v;x.at!==void 0&&(f=se(f,x.at,i,d));let b=0;const M=(A,E,N,L=0,T=0)=>{const y=ut(A),{delay:j=0,times:g=Le(y),type:D="keyframes",repeat:R,repeatType:C,repeatDelay:K=0,...je}=E;let{ease:I=t.ease||"easeOut",duration:V}=E;const _=typeof j=="function"?j(L,T):j,J=y.length,U=Fe(D)?D:r?.[D||"keyframes"];if(J<=2&&U){let F=100;if(J===2&&mt(y)){const W=y[1]-y[0];F=Math.abs(W)}const P={...je};V!==void 0&&(P.duration=We(V));const k=Te(P,F,U);I=k.ease,V=k.duration}V??(V=l);const q=f+_;g.length===1&&g[0]===0&&(g[1]=1);const Q=g.length-y.length;if(Q>0&&Ce(g,Q),y.length===1&&y.unshift(null),R){V=nt(V,R);const F=[...y],P=[...g];I=Array.isArray(I)?[...I]:[I];const k=[...I];for(let W=0;W<R;W++){y.push(...F);for(let G=0;G<F.length;G++)g.push(P[G]+(W+1)),I.push(G===0?"linear":me(k,G-1))}ot(g,R)}const Z=q+V;rt(N,y,I,g,q,Z),b=Math.max(_+V,b),p=Math.max(Z,p)};if($(w)){const A=re(w,m);M(S,x,oe("default",A))}else{const A=de(w,S,s,u),E=A.length;for(let N=0;N<E;N++){S=S,x=x;const L=A[N],T=re(L,m);for(const y in S)M(S[y],lt(x,y),oe(y,T),N,E)}}i=f,f+=b}return m.forEach((h,v)=>{for(const w in h){const S=h[w];S.sort(at);const x=[],b=[],M=[];for(let E=0;E<S.length;E++){const{at:N,value:L,easing:T}=S[E];x.push(L),b.push(Ge(0,p,N)),M.push(T||"easeOut")}b[0]!==0&&(b.unshift(0),x.unshift(x[0]),M.unshift(it)),b[b.length-1]!==1&&(b.push(1),x.push(null)),a.has(v)||a.set(v,{keyframes:{},transition:{}});const A=a.get(v);A.keyframes[w]=x,A.transition[w]={...t,duration:p,ease:M,times:b,...n}}}),a}function re(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function oe(e,t){return t[e]||(t[e]=[]),t[e]}function ut(e){return Array.isArray(e)?e:[e]}function lt(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const ft=e=>typeof e=="number",mt=e=>e.every(ft);function dt(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=He(e)&&!Pe(e)?new ke(t):new ze(t);n.mount(e),z.set(e,n)}function gt(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Qe(t);n.mount(e),z.set(e,n)}function ht(e,t){return $(e)||typeof e=="number"||typeof e=="string"&&!X(t)}function ge(e,t,n,s){const r=[];if(ht(e,t))r.push($e(e,X(t)&&t.default||t,n&&(n.default||n)));else{const l=de(e,t,s),a=l.length;for(let m=0;m<a;m++){const u=l[m],d=u instanceof Element?dt:gt;z.has(u)||d(u);const i=z.get(u),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(m,a)),r.push(...Be(i,{...t,transition:f},{}))}}return r}function pt(e,t,n){const s=[];return ct(e,t,n,{spring:Ke}).forEach(({keyframes:l,transition:a},m)=>{s.push(...ge(m,l,a))}),s}function xt(e){return Array.isArray(e)&&e.some(Array.isArray)}function yt(e){function t(n,s,r){let l=[],a;if(xt(n))l=pt(n,s,e);else{const{onComplete:u,...d}=r||{};typeof u=="function"&&(a=u),l=ge(n,s,d,e)}const m=new Je(l);return a&&m.finished.then(a),m}return t}const vt=yt(),wt="/mango-web/images/header-logo.svg",ae=-150,ie=0,St=({ref:e=c.useRef(null),revealRef:t,revealOffset:n=-200})=>{const{scrollY:s}=fe(),[r,l]=c.useState(!0),[a,m]=c.useState(t!=null),u=c.useRef(0),d=i=>{r!=i&&l(i)};return Ze(s,"change",i=>{const f=u.current;if(f<=0){d(!0);return}const p=i>=f+n;d(p)}),c.useLayoutEffect(()=>{const i=()=>{u.current=t?.current?.offsetTop??0},f=new ResizeObserver(()=>{i()});return i(),t?.current&&f.observe(t.current),()=>f.disconnect()},[t,t?.current]),c.useLayoutEffect(()=>{if(!u?.current){m(!1),d(!1);return}m(!0),u.current=t?.current?.offsetTop??0},[t,t?.current]),o.jsxs(B.header,{ref:e,initial:{y:a?ae:ie},animate:{y:r?ie:ae},transition:{type:"tween",ease:"easeOut",duration:.35},className:"bg-faded-mango-100 fixed top-0 z-20 w-full",children:[o.jsx("div",{className:"bg-mango-400 h-4"}),o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"relative mx-auto max-w-(--xl)",children:[o.jsx("img",{src:wt,className:"absolute -top-px left-8"}),o.jsx("div",{className:"hidden sm:block",children:o.jsxs("nav",{className:"text-mango-800 flex justify-center gap-10 pt-4 pb-3 text-xl",children:[o.jsx(H,{to:"/",children:o.jsx("p",{children:"Home"})}),o.jsx(H,{to:"/",children:o.jsx("p",{children:"Products"})}),o.jsx(H,{to:"/",children:o.jsx("p",{children:"Bulk Orders"})}),o.jsx(H,{to:"/",children:o.jsx("p",{children:"Contact Us"})})]})})]})})]})};function jt(e,t){return(e%t+t)%t}function bt(e,t,n){return jt(e-n,t)+n}function At(e,t,n){return Math.max(Math.min(e,t),n)}const Et=()=>{const[e,t]=c.useState(!1);return{refreshed:e,rerender:()=>{t(s=>!s)}}},he=()=>{const[e,t]=c.useState(!1),[n,s]=c.useState(!1);return c.useEffect(()=>{const r=window.matchMedia("(max-width: 641px)"),l=window.matchMedia("(max-width: 769px)"),a=()=>{t(r.matches),s(l.matches)};return a(),r.addEventListener("change",a),l.addEventListener("change",a),()=>{r.removeEventListener("change",a),l.removeEventListener("change",a)}},[]),{isSm:e,isMd:n}},ce={SM:50,LG:25},Mt=({children:e,index:t,x:n,itemsRef:s,onRefsAssigned:r,itemCount:l,dimensions:a})=>{const{isSm:m,isMd:u}=he(),d=O(n,i=>{const f=a.full.current*l.current,p=-((t+1)*a.full.current),h=a.gap.current/2,v=a.item.current/2,w=a.item.current/2;return i+=m?h:u?v:w,i=bt(i,f,p),`${i}dvw`});return o.jsx(B.div,{initial:{x:d.get()},style:{minWidth:`${a.full.current}dvw`,width:`${a.full.current}dvw`,paddingRight:`${a.gap.current}dvw`,x:d},ref:i=>{s.current[t]=i,r()},children:o.jsx("div",{className:"border-faded-mango-100 flex aspect-3/4 w-full cursor-pointer items-center justify-center rounded-[4rem] border-5 px-2 py-4",children:o.jsx("div",{className:"select-none",children:e})})})},Nt=({ref:e,items:t})=>{const n=[...t,...t],{refreshed:s,rerender:r}=Et(),{isSm:l,isMd:a}=he(),m=c.useRef(n.length),u=c.useRef([]),d=c.useRef(0),i=c.useRef(25),f=c.useRef(2),p=c.useRef(i.current-f.current),h=c.useRef(new Ye(0)),v=c.useRef(null),w=c.useRef(0),S=c.useRef(null),x=c.useRef(i.current/2),b=c.useRef(!1),M=c.useRef(!1);c.useLayoutEffect(()=>{a?i.current=ce.SM:i.current=ce.LG,v.current?.stop(),p.current=i.current-f.current,h.current.set(w.current*i.current),r()},[l,a]),c.useLayoutEffect(()=>{const j=()=>{d.current=window.innerWidth},g=new ResizeObserver(()=>{j()});return j(),u.current[0]&&g.observe(u.current[0]),()=>g.disconnect()},[u.current[0],s]),c.useLayoutEffect(()=>{const j=()=>{const D=w.current*i.current;b.current=!0,x.current=0,h.current.set(D)},g=new ResizeObserver(()=>{j()});return j(),u.current[0]&&g.observe(u.current[0]),()=>g.disconnect()},[u.current]),tt((j,g)=>{if(l||M.current)return;const R=g/1e3*2,C=h.current.get()-R;x.current+=R,h.current.set(C),x.current>=i.current&&(w.current-=1,x.current-=i.current)});const A=()=>{x.current=i.current/2,S.current=h.current.get()},E=(j,g)=>{const R=g.offset.x/d.current*100;let C=Math.round(R/i.current),K;C==0&&Math.abs(g.velocity.x)>500&&(C=g.velocity.x>0?1:-1),w.current+=C,S.current=null,K=w.current*i.current,h.current.stop(),v.current=vt(h.current,K,{type:"spring",velocity:At(g.velocity.x,100,-100),duration:1.2})},N=(j,g)=>{if(S.current==null){v.current?.stop();return}const D=g.offset.x/d.current*100;h.current.set((S.current??h.current.get())+D)},L=()=>{M.current=!0},T=()=>{M.current=!1},y=()=>{r()};return o.jsx("div",{ref:e,onMouseEnter:L,onMouseLeave:T,className:"max-w-full overflow-x-hidden",children:o.jsx(B.div,{drag:"x",dragConstraints:{left:0,right:0},style:{width:`${n.length*i.current}dvw`},dragElastic:0,dragMomentum:!1,onDrag:N,onDragStart:A,onDragEnd:E,className:"flex",children:n.map((j,g)=>o.jsx(Mt,{index:g,x:h.current,itemsRef:u,onRefsAssigned:y,itemCount:m,dimensions:{full:i,gap:f,item:p},children:j},g))})})},Dt="/mango-web/images/home/logo.svg",Rt="/mango-web/images/home/char-a.svg",pe="/mango-web/images/hero/hero-logo.svg",xe="/mango-web/images/divider-a.svg",Vt="/mango-web/images/shapes/mango-2.svg",It="/mango-web/images/shapes/long-3.svg",Ot="/mango-web/images/shapes/strips-2.svg",ye="/mango-web/images/products/carousel/chocolate.png",ve="/mango-web/images/products/carousel/slice.png",we="/mango-web/images/products/carousel/spaghetti.png",Se="/mango-web/images/products/carousel/strip.png",Lt=[Dt,Rt,pe,xe,ye,ve,we,Se];function Tt(e){return Promise.all(e.map(t=>new Promise((n,s)=>{const r=new Image;r.src=t,r.onload=()=>n(),r.onerror=s})))}const Y=({src:e,scrollY:t,x:[n,s]=[0,0],y:[r,l]=[0,0],rotate:[a,m]=[0,0]})=>{const u=O(t,[0,1],[s,n],{clamp:!0}),d=O(t,[0,1],[l,r],{clamp:!0}),i=O(t,[0,1],[m,a],{clamp:!0}),f=O(u,h=>`${h/16}rem`),p=O(d,h=>`${h/16}rem`);return o.jsx(B.img,{src:e,initial:{x:n/16+"rem",y:r/16+"rem",rotate:a},animate:{x:s/16+"rem",y:l/16+"rem",rotate:m,transition:{duration:.7,ease:[.07,.7,.2,1]}},style:{x:f,y:p,rotate:i},className:"absolute"})};function Wt(){const e=be(),{scrollY:t}=fe(),n=c.useRef(null),s=c.useRef(null),[r,l]=c.useState(!1),a=O(t,[0,500],[0,1],{clamp:!0}),m=et(a,{bounce:0});c.useEffect(()=>{Promise.all([document.fonts.ready,Tt(Lt)]).then(()=>l(!0))});const u=i=>{s.current=[i.screenX,i.screenY]},d=i=>f=>{const p=[Math.abs((s.current?.[0]??0)-f.screenX),Math.abs((s.current?.[1]??0)-f.screenY)];s.current=null,!(p[0]>10||p[1]>10)&&(e(`products/${i}`),console.log("item clicked"))};return o.jsx("div",{className:"font-poppins bg-mango-100 text-2xl",children:r?o.jsxs(o.Fragment,{children:[o.jsx(St,{revealRef:n}),o.jsxs("main",{className:"w-full",children:[o.jsxs("section",{className:"bg-faded-mango-100 w-full",children:[o.jsx("div",{className:"bg-mango-400 h-4 w-full"}),o.jsx("div",{className:"relative h-16",children:o.jsx("img",{src:pe,className:"absolute left-1/2 z-20 -translate-x-1/2"})})]}),o.jsxs("section",{className:"bg-mango-100 relative z-0 h-270 w-full overflow-x-hidden",children:[o.jsxs("div",{className:"absolute top-1/2 left-1/2 h-50 w-50",children:[o.jsx(Y,{src:Vt,scrollY:m,x:[-230,-210],y:[-190,-270],rotate:[-30,0]}),o.jsx(Y,{src:It,scrollY:m,x:[-65,-70],y:[-200,-320],rotate:[-50,0]}),o.jsx(Y,{src:Ot,scrollY:m,x:[240,200],y:[-250,-430],rotate:[34,0]})]}),o.jsx("img",{src:xe,className:"pointer-events-none absolute bottom-0 select-none"})]}),o.jsx("section",{className:"py-44",children:o.jsx(Nt,{ref:n,items:[o.jsx("div",{onMouseDown:u,onClick:d("strips"),children:o.jsx("img",{src:ve,className:"pointer-events-none select-none"})}),o.jsx("div",{onMouseDown:u,onClick:d("strips"),children:o.jsx("img",{src:Se,className:"pointer-events-none select-none"})}),o.jsx("div",{onMouseDown:u,onClick:d("strips"),children:o.jsx("img",{src:we,className:"pointer-events-none select-none"})}),o.jsx("div",{onMouseDown:u,onClick:d("strips"),children:o.jsx("img",{src:ye,className:"pointer-events-none select-none"})})]})})]}),o.jsx(H,{to:"/products/strips",children:o.jsx("p",{className:"h-300",children:"Strips"})})]}):o.jsx("p",{children:"I AM LOADING"})})}export{Wt as default};
